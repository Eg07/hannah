# @package _group_


# Das Netzwerk hat entweder 1 oder 2 layer.
# Und jedes der layer ist entweder ein convolution der größe 1 oder 3.


# Zustand in dieser yaml Datei definiert nur den default candidate.
# Die parametrisierung wird durch Hydra vorgenommen.
# Die Suche wird mittels Hydras --multirun implementiert.


cls: speech_recognition.models.nas.tc_model.TCCandidateModel
name: tc-candidate-model

# PROPERTIES

n_labels: 12
width: 101
height: 40
dropout_prob: 0.5
width_multiplier: 1.0
activation_function: "relu"
is_fully_convolutional: false
has_inputlayer: true
dilation_factor: 1
clipping_value: 100000.0
small: false

# ARCHITECTURE
major_blocks:
# Input Block 
- _target_: speech_recognition.models.nas.tc_model.MajorBlock
  output_channels: 16
  stride: 1
  branch: "input"
  minor_blocks:
  - _target_: speech_recognition.models.nas.tc_model.MinorBlock
    size: 3
    parallel: false
# Residual Block 
- _target_: speech_recognition.models.nas.tc_model.MajorBlock
  output_channels: 24
  stride: 2
  branch: "residual"
  minor_blocks:
  - _target_: speech_recognition.models.nas.tc_model.MinorBlock
    size: 9
    parallel: false
  - _target_: speech_recognition.models.nas.tc_model.MinorBlock
    size: 9
    parallel: false
  - _target_: speech_recognition.models.nas.tc_model.MinorBlock
    size: 1
    parallel: true
# Residual Block 
- _target_: speech_recognition.models.nas.tc_model.MajorBlock
  output_channels: 32
  stride: 2
  branch: "residual"
  minor_blocks:
  - _target_: speech_recognition.models.nas.tc_model.MinorBlock
    size: 9
    parallel: false
  - _target_: speech_recognition.models.nas.tc_model.MinorBlock
    size: 9
    parallel: false
  - _target_: speech_recognition.models.nas.tc_model.MinorBlock
    size: 1
    parallel: true
# Residual Block 
- _target_: speech_recognition.models.nas.tc_model.MajorBlock
  output_channels: 48
  stride: 2
  branch: "residual"
  minor_blocks:
  - _target_: speech_recognition.models.nas.tc_model.MinorBlock
    size: 9
    parallel: false
  - _target_: speech_recognition.models.nas.tc_model.MinorBlock
    size: 9
    parallel: false
  - _target_: speech_recognition.models.nas.tc_model.MinorBlock
    size: 1
    parallel: true

# Output Layers

# currently hard coded